/*!
 * Start Bootstrap - SB Admin 2 v4.0.6 ()
 * Copyright 2013-2019 
 * Licensed under  (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

$(document).ready(function(){({init:function(){this.activeTasks=[],this.taskLists=[],this.startGetResults,this.optData=[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Option 3",value:"3"},{label:"Option 4",value:"4"},{label:"Option 5",value:"5"}],this.taskLists=[{label:"Option 1",title:"Option 1",value:"1"},{label:"Option 2",title:"Option 2",value:"2"},{label:"Option 3",title:"Option 3",value:"3"},{label:"Option 4",title:"Option 4",value:"4"},{label:"Option 5",title:"Option 5",value:"5"}],this.initEvents(),this.getBranches()},initEvents:function(){$("#select_brand").on("change",$.proxy(this.getProfiles,this)),$("#profiles_list").on("change",$.proxy(this.getTaskLists,this)),$("#run_submit").on("click",$.proxy(this.submitTasks,this)),$("#reset_all").on("click",$.proxy(this.resetAll,this)),$("#update_submit").on("click",$.proxy(this.updateRate,this)),$("#task_lists").multiselect({allSelectedText:"All",maxHeight:200,includeSelectAllOption:!0}).multiselect("updateButtonText")},updateDropDowns:function(e,t,s){"multi"===s?($("#"+e).multiselect("dataprovider",t),$("#"+e).multiselect("rebuild")):$.map(t,function(t){return $("#"+e).append("<option value="+t.value+">"+t.label+"</option>")})},getBranches:function(){$.ajax({url:"http://dummy.restapiexample.com/api/v1/employees",dataType:"json",method:"GET",success:$.proxy(function(t){this.updateDropDowns("select_brand",this.optData,"single"),$("#select_brand").parent().removeClass("d-none")},this)})},getProfiles:function(t){var e=$(t.currentTarget),s=e.val();e.attr("disabled","disabled"),$.ajax({url:"http://dummy.restapiexample.com/api/v1/employees",dataType:"json",method:"GET",data:{selectedBranch:s},success:$.proxy(function(){this.updateDropDowns("profiles_list",this.optData,"single"),$("#profiles_list").parent().removeClass("d-none")},this)})},getTaskLists:function(t){var e=$(t.currentTarget),s=e.val();e.attr("disabled","disabled"),$.ajax({url:"http://dummy.restapiexample.com/api/v1/employees",dataType:"json",method:"GET",data:{selectedBrand:s},success:$.proxy(function(){$("#task_lists, #run_submit").parents("li").removeClass("d-none"),this.updateDropDowns("task_lists",this.taskLists,"multi")},this)})},submitTasks:function(t){$(t.currentTarget).attr("disabled","disabled");var e=$("#task_lists").val(),s=this;$.ajax({url:"http://dummy.restapiexample.com/api/v1/employees",dataType:"json",method:"GET",data:{selectedBrand:e},success:$.proxy(function(t){s.getTasksResults(t),this.startGetResults=setInterval(function(){s.getTasksResults(t)},1e4)},this)})},updateRate:function(){var t=$("#active_task").val(),e=$("#rate_value").val();$.ajax({url:"http://dummy.restapiexample.com/api/v1/employees",dataType:"json",method:"GET",data:{activeTask:t,rateValue:e},success:$.proxy(function(t){"ok"===t.status?$("#notify .alert-info").removeClass("d-none"):$("#notify .alert-danger").removeClass("d-none"),setTimeout(function(){$("#notify .alert").addClass("d-none")},5e3)},this)})},getTasksResults:function(t){$.ajax({url:"http://dummy.restapiexample.com/api/v1/employees",dataType:"json",method:"GET",success:$.proxy(function(t){$("#active_task").parents("li").removeClass("d-none"),this.paintResults(),this.updateDropDowns("active_task",this.optData,"single"),$("#update_block").removeClass("d-none")},this)})},paintResults:function(t){t={};var e=this,s=$("#results_card");s.empty(),t.data=[{title:"title1",success:"3404",latency:"5443",error:"4343"},{title:"title2",success:"404",latency:"232",error:"45443"},{title:"title3",success:"7604",latency:"657",error:"433"},{title:"title4",success:"37604",latency:"324",error:"466643"},{title:"title5",success:"37604",latency:"775",error:"466643"}],setTimeout($.proxy(function(){t.data.forEach(function(t){s.append(e.getMarkUp(t))})},this),500),$("#empty_search").addClass("d-none"),s.removeClass("d-none")},getSelectedArray:function(){},getMarkUp:function(t){return'<div class="col-md-6 col-xl-3 mb-4"><div class="border-left-primary card h-100 py-2 shadow"><div class=card-body><div class="align-items-center no-gutters row"><div class="col mr-2 text-center"><div class="font-weight-bold h5 mb-1 text-primary text-sm text-uppercase">'+t.title+'</div><br></div></div><div class="align-items-center no-gutters row"><div class="col mr-2 text-center"><div class="font-weight-bold mb-1 text-sm text-uppercase text-success">Success</div><div class="font-weight-bold h5 mb-0 text-gray-800">'+t.success+'</div></div><div class="col mr-2 text-center"><div class="font-weight-bold mb-1 text-sm text-uppercase text-warning">Latency</div><div class="font-weight-bold h5 mb-0 text-gray-800">'+t.latency+'</div></div><div class="col mr-2 text-center"><div class="font-weight-bold mb-1 text-sm text-uppercase text-danger">Failed</div><div class="font-weight-bold h5 mb-0 text-gray-800">'+t.error+"</div></div></div></div></div></div>"},resetAll:function(){clearInterval(this.startGetResults),location.reload("forcedReload")}}).init()});